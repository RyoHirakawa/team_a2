<!-- allStudents.html -->

<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>All Students</title>
</head>

<body>
	<h1>All Students</h1>
	<form th:action="@{/list/student/all}" method="get">
		<span>名前:</span>
		<input type="text" name="name" th:value="${name}">

		<!-- 学年のラジオボタン -->
		<div>
			<span>学年:</span>
			<input type="radio" name="grade" value="1" id="first" th:checked="${grade == '1'}"><label
				for="first">1年</label>
			<input type="radio" name="grade" value="2" id="second" th:checked="${grade == '2'}"><label
				for="second">2年</label>
			<input type="radio" name="grade" value="3" id="third" th:checked="${grade == '3'}"><label
				for="third">3年</label>
			<input type="radio" name="grade" value="" id="none" th:checked="${grade == null || grade == ''}"><label
				for="none">指定なし</label>
		</div>
		<span>クラス:</span>
		<input type="text" name="schoolClass" th:value="${schoolClass}">組

		<!-- 性別のラジオボタン -->
		<div>
			<span>性別:</span>
			<input type="radio" name="gender" value="MALE" id="male" th:checked="${gender == 'MALE'}"><label
				for="male">男</label>
			<input type="radio" name="gender" value="FEMALE" id="female" th:checked="${gender == 'FEMALE'}"><label
				for="female">女</label>
			<input type="radio" name="gender" value="OTHER" id="other" th:checked="${gender == 'OTHER'}"><label
				for="other">その他</label>
			<input type="radio" name="gender" value="" id="none_gender"
				th:checked="${gender == null || gender == ''}"><label for="none_gender">指定なし</label>
		</div>

		<button type="submit">検索</button>

		<a th:href="@{/list/student/all}" style="text-decoration: none;">
			<button type="button">全てクリア</button>
		</a>
	</form>

	<table>
		<thead>
			<tr>
				<th>ID</th>
				<th>学年</th>
				<th>クラス</th>
				<th>姓</th>
				<th>名</th>
				<th>誕生日</th>
				<th>性別</th>
				<th>アクション</th>
			</tr>
		</thead>
		<tbody>
			<th:block th:each="student : ${students}">
				<tr>
					<td th:text="${student.id}"></td>
					<td th:text="${student.SchoolClass.grade.getNumber()}"></td>
					<td th:text="${student.SchoolClass.name}"></td>
					<td th:text="${student.firstName}"></td>
					<td th:text="${student.lastName}"></td>
					<td th:text="${student.birthdate}"></td>
					<td th:text="${student.gender.getName()}"></td>
					<td>
						<a th:href="@{/list/student/edit/{id}(id=${student.id})}">編集</a>
						<form th:action="@{/list/student/delete}" method="post">
							<input type="hidden" name="studentId" th:value="${student.id}">
							<button type="submit">削除</button>
						</form>
					</td>

				</tr>
			</th:block>
		</tbody>
	</table>
	<a th:href="@{/list/student/create}">生徒を追加</a>
</body>

</html>